<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:view="org.akinu.view.*">

	<mx:Script>
	<![CDATA[
		import mx.events.FlexEvent;
			import org.akinu.model.ModelLocator;
			[Bindable]
			private var model:ModelLocator = ModelLocator.getInstance();
			public function init():void{
				initializeState();
			}
			private function initializeState():void{				
				if (model.pageState == ModelLocator.PERSON_EDIT){
					personEdit.init();
				}else if (model.pageState == ModelLocator.PERSON_MAIN){
					personMain.init();
				}else if (model.pageState == ModelLocator.EDIT_UNSAVED_PERSON){
					editInfo.init();
				}
			}			
	]]>
	</mx:Script>
	<mx:ViewStack id="personContext"  selectedIndex="{model.pageState}" width="100%" height="100%" change="initializeState()">
		<view:PersonMain id="personMain"/>
		<view:PersonEdit id="personEdit"/>
		<view:EditBasicInfo id="editInfo"/>
	</mx:ViewStack>


</mx:Canvas>
